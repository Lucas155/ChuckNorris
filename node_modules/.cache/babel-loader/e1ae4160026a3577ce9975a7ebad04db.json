{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/lucas/OneDrive/\\xC1rea de Trabalho/Gama/chucknorris2.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/lucas/OneDrive/\\xC1rea de Trabalho/Gama/chucknorris2.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/lucas/OneDrive/\\xC1rea de Trabalho/Gama/chucknorris2.1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import LoadGif from'../../img/giphy.gif';import{HomeContainer}from'./style';import api from'../../service/api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categoriesJoke=_useState2[0],setCategoriesJoke=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),categorySelected=_useState4[0],setCategorySelected=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchJoke=_useState6[0],setSearchJoke=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLoad=_useState8[0],setIsLoad=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),resultSearch=_useState10[0],setResultSearch=_useState10[1];useEffect(function(){api.get('jokes/categories').then(function(response){setCategoriesJoke(response.data);});},[]);function handleJokes(){return _handleJokes.apply(this,arguments);}function _handleJokes(){_handleJokes=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoad(true);_context.next=3;return api.get(\"jokes/search?query=\".concat(searchJoke));case 3:response=_context.sent;setResultSearch(response.data.result);if(response.status===200){setIsLoad(false);}case 6:case\"end\":return _context.stop();}}},_callee);}));return _handleJokes.apply(this,arguments);}function handleJokeByCategory(_x){return _handleJokeByCategory.apply(this,arguments);}function _handleJokeByCategory(){_handleJokeByCategory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsLoad(true);_context2.next=3;return api.get(\"jokes/random?category=\".concat(e));case 3:response=_context2.sent;setCategorySelected(response.data);if(response.status===200){setIsLoad(false);}case 6:case\"end\":return _context2.stop();}}},_callee2);}));return _handleJokeByCategory.apply(this,arguments);}return/*#__PURE__*/_jsxs(HomeContainer,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Categories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"categories\",children:/*#__PURE__*/_jsx(\"ul\",{children:categoriesJoke.map(function(joke,index){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return handleJokeByCategory(joke);},children:joke},index);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Find Joke\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setSearchJoke(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleJokes,children:\" Find joke\"})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Find results for:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"joker\",children:isLoad?/*#__PURE__*/_jsx(\"img\",{src:LoadGif,alt:\"load\"}):resultSearch.map(function(result){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:result.icon_url,alt:result.value}),/*#__PURE__*/_jsx(\"h3\",{children:result.value})]},result.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-categorias\",children:[/*#__PURE__*/_jsx(\"img\",{src:categorySelected===null||categorySelected===void 0?void 0:categorySelected.icon_url,alt:categorySelected===null||categorySelected===void 0?void 0:categorySelected.value}),/*#__PURE__*/_jsx(\"h3\",{children:categorySelected===null||categorySelected===void 0?void 0:categorySelected.value})]})]});};export default Home;","map":{"version":3,"sources":["C:/Users/lucas/OneDrive/Ãrea de Trabalho/Gama/chucknorris2.1/src/pages/Home/index.tsx"],"names":["React","useEffect","useState","LoadGif","HomeContainer","api","Home","categoriesJoke","setCategoriesJoke","categorySelected","setCategorySelected","searchJoke","setSearchJoke","isLoad","setIsLoad","resultSearch","setResultSearch","get","then","response","data","handleJokes","result","status","handleJokeByCategory","e","map","joke","index","target","value","icon_url","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport LoadGif from '../../img/giphy.gif';\r\nimport Chuck from '../../img/CHUCKNORRIS.gif';\r\nimport { HomeContainer } from './style';\r\nimport api from '../../service/api';\r\n\r\ninterface IJoke{\r\n    id: string;\r\n    icon_url: string;\r\n    value: string;\r\n}\r\n\r\nconst Home: React.FC = () => {\r\n    const [ categoriesJoke, setCategoriesJoke ] = useState([]);\r\n    const [ categorySelected, setCategorySelected ] = useState<IJoke>()\r\n    const [ searchJoke, setSearchJoke ] = useState('')\r\n    const [ isLoad, setIsLoad ] = useState(false)\r\n    const [ resultSearch, setResultSearch ] = useState<IJoke[]>([])\r\n\r\n\r\n    useEffect( () => {\r\n        api.get('jokes/categories').then(\r\n            response => {\r\n                setCategoriesJoke(response.data)\r\n            }\r\n        )\r\n    }, [])\r\n\r\n    async function handleJokes(){\r\n        setIsLoad(true)\r\n        const response = await api.get(`jokes/search?query=${searchJoke}`)\r\n        setResultSearch(response.data.result)\r\n        if(response.status === 200 ){\r\n            setIsLoad(false)\r\n        } \r\n    }\r\n\r\n    async function handleJokeByCategory(e: string){\r\n        setIsLoad(true)\r\n        const response = await api.get(`jokes/random?category=${e}`)\r\n        setCategorySelected(response.data)\r\n        if( response.status === 200 ){ \r\n            setIsLoad(false)\r\n        } \r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <HomeContainer>\r\n            <h2>Categories</h2>\r\n            \r\n            <div className=\"categories\">\r\n                <ul>\r\n                { categoriesJoke.map( (joke, index) => (\r\n                    <li key={index} onClick={ () => handleJokeByCategory(joke) }>{joke}</li>\r\n                ))}\r\n                </ul>\r\n            </div>\r\n\r\n            <div className=\"input-group\">\r\n            <h2>Find Joke</h2>\r\n                <input type=\"text\" onChange={ e => setSearchJoke(e.target.value)} />\r\n                <button type=\"submit\" onClick={handleJokes}> Find joke</button>\r\n\r\n            </div>\r\n            <h1>Find results for:</h1>\r\n            <div className=\"joker\">\r\n                { isLoad ? <img src={LoadGif} alt=\"load\"/> : resultSearch.map( result => (\r\n                    <div key={result.id}>\r\n                        <img src={result.icon_url} alt={result.value}/>\r\n                        <h3>{result.value}</h3>\r\n                    </div>\r\n                )) }\r\n\r\n\r\n            </div>\r\n            <div className=\"group-categorias\">\r\n                <img src={categorySelected?.icon_url} alt={categorySelected?.value}/>\r\n                <h3>{categorySelected?.value}</h3>\r\n            </div>  \r\n            \r\n        \r\n        </HomeContainer>\r\n    );\r\n}\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}